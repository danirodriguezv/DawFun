<div ng-controller="riesgoController as vm" layout="column" layout-fill>





	<!-- BARRA SUPERIOR -->
	<div flex-item>
		<div class="card bgc-indigo-500">
			<div class="toolbar">
				<span class="toolbar__label fs-title tc-white-1 ml"><img
					src="/images/dawlogo.png" height=50></span>

				<div class="toolbar__right">


					<button class="btn btn--l btn--white btn--icon"
						ng-click="vm.volver()" lx-ripple>
						<i class="mdi mdi-undo sobreIcono"></i>
					</button>
				</div>
			</div>
		</div>
	</div>


	<!-- BARRA INFERIOR -->
	<div
		style="box-shadow: 0px 4px 6px 1px rgba(119, 119, 119, 0.17); background-color: white-silver;">
		<lx-dropdown>
		<button class="btn btn--m btn--black btn--flat botonCategoria"
			lx-ripple lx-dropdown-toggle>RIESGO {{vm.objetivoBusqueda}}</button>
		<lx-dropdown-menu>
		<ul>
			<li><a class="dropdown-link" ng-click="vm.busqueda('Todos')">Todos</a></li>
			<li class="dropdown-divider"></li>
			<li><a class="dropdown-link" ng-click="vm.busqueda('ALTO')">ALTO RIESGO</a></li>
			<li><a class="dropdown-link" ng-click="vm.busqueda('MEDIO')">RIESGO MEDIO</a></li>
			<li><a class="dropdown-link" ng-click="vm.busqueda('BAJO')">RIESGO BAJO</a></li>
		</ul>
		</lx-dropdown-menu> </lx-dropdown>

	</div>


	<!-- TABLA -->

	<div flex-container="row" flex-gutter="24">

		<div flex-item ng-repeat="riesgo in vm.riesgos | orderBy:vm.ordenadoPor"
			ng-click="vm.opendDialog('test',riesgo)" ng-show="riesgo.risk == vm.objetivoBusqueda || vm.objetivoBusqueda == 'Todos'">
			<div class="card">
				<div flex-container="row">
					<div class="card__img card__img--left" style="height: 160px">
						<img src="/images/{{riesgo.image_activity}}">
					</div>

					<div flex-item flex-container="column">
						<div flex-item>
							<div class="p++">
								<strong class="fs-headline display-block">{{riesgo.name}}</strong>
								<strong class="fs-headline display-block">Edad minima:
									{{riesgo.age_recomended}}</strong>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- DIALOG -->
		<lx-dialog class="dialog dialog--l" id="test" auto-close="true"
			onclose="vm.closingDialog()" onscrollend="scrollEndDialog()">
		<div class="dialog__header">
			<div class="bgc-blue-grey-500 pl pt pb">
				<span class="fs-display-2 display-block tc-white">{{vm.name_activity}}</span>
			</div>
		</div>

		<div class="dialog__content">
			<div class="tc-white-1" flex-container="row">
				<div flex-item="4" flex-item-order="1">
					<div class="p">
						<img ng-src="/images/{{vm.image_activity}}" width=100% height=100%>
					</div>
				</div>
				<div flex-item="8" flex-item-order="2">
					<div class="p+ bgc-blue-grey-300">
						<span class="fs-subhead display-block">Descripcion</span> <span
							class="fs-display-0.2 display-block">{{vm.descrip_activity}}</span>
					</div>
					<div class="p+ bgc-blue-grey-300">
						<span class="fs-subhead display-block">Direccion</span> <span
							class="fs-display-0.2 display-block">{{vm.direc_activity}}</span>
					</div>
					<div class="p+ bgc-blue-grey-300">
						<span class="fs-subhead display-block">Riesgo</span> <span
							class="fs-display-0.5 display-block">{{vm.show_activity}}</span>
					</div>
					<div class="p+ bgc-blue-grey-300">
						<span class="fs-subhead display-block">Duracion de la
							actividad</span> <span class="fs-display-0.5 display-block">{{vm.dur_activity}}</span>
					</div>
					<div class="p+ bgc-red-300">
						<span class="fs-subhead display-block">Precio del servicio</span>
						<span class="fs-display-0.5 display-block">{{vm.price_activity}}
							euros</span>
					</div>
					<div class="p+ bgc-red-400">
						<span class="fs-subhead display-block">Edad minima</span> <span
							class="fs-display-0.2 display-block">{{vm.age_activity}}</span>
					</div>
				</div>
			</div>





		</div>

		<div class="dialog__actions">
			<button class="btn btn--m btn--black btn--flat" lx-ripple
				lx-dialog-close>Cancel</button>
		</div>
		</lx-dialog>


	</div>